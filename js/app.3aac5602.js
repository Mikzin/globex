(function(){"use strict";var e={8195:function(e,n,t){var a=t(9242),s=t(3396);function r(e,n,t,a,r,o){const i=(0,s.up)("base-search"),l=(0,s.up)("base-card"),u=(0,s.up)("base-list");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(i,{onUserInput:o.loadInput},null,8,["onUserInput"]),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.filteredUsers,(e=>((0,s.wg)(),(0,s.j4)(l,{id:e.id,key:e.name,name:e.name,phone:e.phone,email:e.email,hireDate:e.hireDate,positionName:e.positionName,department:e.department,address:e.address},null,8,["id","name","phone","email","hireDate","positionName","department","address"])))),128))])),_:1})],64)}t(7658);const o={class:"container"};function i(e,n,t,r,i,l){const u=(0,s.up)("ion-icon");return(0,s.wg)(),(0,s.iD)("form",null,[(0,s._)("div",o,[(0,s.wy)((0,s._)("input",{type:"text",name:"search",placeholder:"Find user",class:"input__field","onUpdate:modelValue":n[0]||(n[0]=e=>l.userInput=e)},null,512),[[a.nr,l.userInput]]),(0,s._)("button",{type:"submit",value:"",class:"input__button",onClick:n[1]||(n[1]=(0,a.iM)(((...e)=>l.translateInput&&l.translateInput(...e)),["prevent"]))},[(0,s.Wm)(u,{name:"search-outline",class:"input__button-icon icon"})])])])}var l={methods:{translateInput(){this.$emit("userInput",this.userInput)}},computed:{userInput:{get(){return this.$route.query.term},set(e){this.$router.push({query:{term:e}})}}}},u=t(89);const d=(0,u.Z)(l,[["render",i],["__scopeId","data-v-3a3b7220"]]);var c=d,p=t(7139);const m={class:"card__name"},_={class:"card__phone"},h={class:"card__phone-number"},f={class:"card__email"},v={href:"#",target:"blank",class:"card__email-link"};function w(e,n,t,a,r,o){const i=(0,s.up)("ion-icon"),l=(0,s.up)("base-modal");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("li",{class:"card__item",onClick:n[0]||(n[0]=(...e)=>o.openModal&&o.openModal(...e))},[(0,s._)("h2",m,(0,p.zw)(t.name),1),(0,s._)("div",_,[(0,s.Wm)(i,{name:"phone-portrait-outline",class:"icon"}),(0,s._)("p",h,(0,p.zw)(t.phone),1)]),(0,s._)("div",f,[(0,s.Wm)(i,{name:"mail-outline",class:"icon"}),(0,s._)("a",v,(0,p.zw)(t.email),1)])]),r.modalOpened?((0,s.wg)(),(0,s.j4)(l,{key:0,onOpen:o.openModal,userName:t.name,userPhone:t.phone,userEmail:t.email,userDepartment:t.department,userHireDate:t.hireDate,userPositionName:t.positionName,userAddress:t.address},null,8,["onOpen","userName","userPhone","userEmail","userDepartment","userHireDate","userPositionName","userAddress"])):(0,s.kq)("",!0)],64)}const b={class:"modal__container"},y={class:"modal__name"},g={class:"modal__info"},k=(0,s._)("ul",{class:"modal__key"},[(0,s._)("li",{class:"modal__key-info"},"Телефон:"),(0,s._)("li",{class:"modal__key-info"},"Почта:"),(0,s._)("li",{class:"modal__key-info"},"Дата приёма:"),(0,s._)("li",{class:"modal__key-info"},"Должность:"),(0,s._)("li",{class:"modal__key-info"},"Подразделение:")],-1),D={class:"modal__value"},O={class:"modal__value-info"},I={class:"modal__value-info"},N={class:"modal__value-info"},x={class:"modal__value-info"},C={class:"modal__value-info"},P={class:"modal__extra"},j=(0,s._)("h3",{class:"modal__extra-title"},"Дополнительная информация:",-1),z={class:"modal__extra-text"};function M(e,n,t,r,o,i){return(0,s.wg)(),(0,s.j4)(s.lR,{to:"body"},[(0,s._)("div",{class:"modal",onClick:n[1]||(n[1]=(0,a.iM)((n=>e.$emit("open")),["self","stop"]))},[(0,s._)("div",b,[(0,s._)("button",{class:"button-close",onClick:n[0]||(n[0]=n=>e.$emit("open"))}),(0,s._)("h2",y,(0,p.zw)(t.userName),1),(0,s._)("div",g,[k,(0,s._)("ul",D,[(0,s._)("li",O,(0,p.zw)(t.userPhone),1),(0,s._)("li",I,(0,p.zw)(t.userEmail),1),(0,s._)("li",N,(0,p.zw)(t.userHireDate),1),(0,s._)("li",x,(0,p.zw)(t.userPositionName),1),(0,s._)("li",C,(0,p.zw)(t.userDepartment),1)])]),(0,s._)("div",P,[j,(0,s._)("p",z," Address: "+(0,p.zw)(t.userAddress),1)])])])])}var B={data(){return{cardClicked:!1}},props:["userName","userPhone","userEmail","userPositionName","userDepartment","userHireDate","userAddress"],emits:["open"]};const H=(0,u.Z)(B,[["render",M]]);var U=H,W={data(){return{modalOpened:!1}},components:{BaseModal:U},props:["name","phone","email","positionName","department","hireDate","id","address"],methods:{openModal(){this.modalOpened=!this.modalOpened}}};const $=(0,u.Z)(W,[["render",w],["__scopeId","data-v-52738249"]]);var A=$;const E={class:"card__list"};function Z(e,n){return(0,s.wg)(),(0,s.iD)("ul",E,[(0,s.WI)(e.$slots,"default")])}const F={},L=(0,u.Z)(F,[["render",Z]]);var q=L,Y={components:{BaseSearch:c,BaseCard:A,BaseList:q},data(){return{users:[],error:null,searchInput:""}},methods:{loadUsers(){fetch("http://127.0.0.1:3000").then((e=>{if(e.ok)return e.json()})).then((e=>{const n=[];for(const t in e)n.push({id:t,name:e[t].name,phone:e[t].phone,email:e[t].email,hireDate:e[t].hire_date,positionName:e[t].position_name,department:e[t].department,address:e[t].address});this.users=n})).catch((e=>{console.log(e),this.isLoading=!1,this.error="Failed to fetch data, please try again later"}))},loadInput(e){this.searchInput=e}},computed:{filteredUsers(){return this.users.filter((e=>-1!==e.name.toLowerCase().indexOf(this.searchInput.toLowerCase())))}},mounted(){this.loadUsers()}};const S=(0,u.Z)(Y,[["render",r]]);var T=S,K=t(678);const R=(0,K.p7)({routes:[{path:"/",components:{BaseSearch:c,BaseCard:A,BaseModal:U},props:!0},{path:"/:notFound(.*)",redirect:"/"}],history:(0,K.PO)()});var V=R;const G=(0,a.ri)(T);G.use(V),G.mount("#app")}},n={};function t(a){var s=n[a];if(void 0!==s)return s.exports;var r=n[a]={exports:{}};return e[a](r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(n,a,s,r){if(!a){var o=1/0;for(d=0;d<e.length;d++){a=e[d][0],s=e[d][1],r=e[d][2];for(var i=!0,l=0;l<a.length;l++)(!1&r||o>=r)&&Object.keys(t.O).every((function(e){return t.O[e](a[l])}))?a.splice(l--,1):(i=!1,r<o&&(o=r));if(i){e.splice(d--,1);var u=s();void 0!==u&&(n=u)}}return n}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[a,s,r]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var a in n)t.o(n,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:n[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={143:0};t.O.j=function(n){return 0===e[n]};var n=function(n,a){var s,r,o=a[0],i=a[1],l=a[2],u=0;if(o.some((function(n){return 0!==e[n]}))){for(s in i)t.o(i,s)&&(t.m[s]=i[s]);if(l)var d=l(t)}for(n&&n(a);u<o.length;u++)r=o[u],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(d)},a=self["webpackChunkglobex"]=self["webpackChunkglobex"]||[];a.forEach(n.bind(null,0)),a.push=n.bind(null,a.push.bind(a))}();var a=t.O(void 0,[998],(function(){return t(8195)}));a=t.O(a)})();
//# sourceMappingURL=app.3aac5602.js.map